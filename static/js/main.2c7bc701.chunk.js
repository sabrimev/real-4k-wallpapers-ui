(this["webpackJsonpreal-4k-wallpapers-ui"]=this["webpackJsonpreal-4k-wallpapers-ui"]||[]).push([[0],{121:function(e,t,a){},206:function(e,t,a){e.exports=a(391)},211:function(e,t,a){},230:function(e,t,a){},391:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(31),s=a.n(l),r=(a(211),a(121),a(73)),i=a(74),c=a(84),u=a(75),m=a(48),p=a(85),f=a(56),h=a.n(f),d=(o.a.Component,a(87),a(230),a(194)),g=a(111),C=a.n(g),b=a(406),w=a(408),y=a(405),E=a(409),v=a(403),S=a(115),T=a(404),P=a(171),x=a.n(P),D=a(172),F=a.n(D);new(a(247))(h.a).onPost("/file/upload/enpoint").reply(200);var I=x()(new Date("2015-01-01T00:00"),1),H=(F()(I,"YYYY-MM-DD"),[]),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onFormSubmit=function(e){e.preventDefault(),console.log("form submit"),a.fileUploadFetch(a.state.file4K,a.state.fileHD,a.state.fileThumbnail,a.state.isPremium,a.state.password,a.state.source,a.state.categories)},a.fileChange4K=function(e){a.setState({file4K:e.target.files[0],fileName4K:e.target.files[0].name},(function(){console.log("File chosen ---\x3e",a.state.file4K,console.log("File name  ---\x3e",a.state.fileName4K))}))},a.fileChangeHD=function(e){a.setState({fileHD:e.target.files[0],fileNameHD:e.target.files[0].name},(function(){console.log("File chosen ---\x3e",a.state.fileHD,console.log("File name  ---\x3e",a.state.fileNameHD))}))},a.fileChangeThumbnail=function(e){a.setState({fileThumbnail:e.target.files[0],fileNameThumbnail:e.target.files[0].name},(function(){console.log("File chosen ---\x3e",a.state.fileThumbnail,console.log("File name  ---\x3e",a.state.fileNameThumbnail))}))},a.getCategoryFetch=function(){return C.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://wallpaper.westeurope.cloudapp.azure.com/wallpaper/getAllCategory",{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(e){console.log(e),a.setState({category:e,categoryDownloaded:!0}),H=JSON.parse(e),a.setState(a.state)})).catch((function(e){return console.log("error",e)}));case 2:case"end":return e.stop()}}))},a.fileUploadFetch=function(e,t,n,o,l,s,r){var i;return C.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:(i=new FormData).append("Image4k",e),i.append("ImageHD",t),i.append("ImageThumbnail",n),i.append("Password",l),i.append("IsPremium",o),i.append("Source",s),r.map((function(e){return i.append("Categories",e)}));try{(new Headers).append("Content-Type","application/json"),fetch("https://wallpaper.westeurope.cloudapp.azure.com/wallpaper/UploadImage",{method:"POST",body:i}).then((function(e){return console.log(e),console.log(e.status),a.setState({statusCode:e.status},(function(){console.log("This is the response status code ---\x3e",a.state.statusCode)})),e.text()})).then((function(e){return console.log(e)})).catch((function(e){console.log("error",e),a.setState({statusCode:500},(function(){console.log("This is the response status code ---\x3e",a.state.statusCode)}))}))}catch(u){console.error(Error("Error uploading file ".concat(u.message))),a.setState({statusCode:500},(function(){console.log("This is the response status code ---\x3e",a.state.statusCode)}))}case 9:case"end":return c.stop()}}))},a.onPasswordChange=function(e){console.log("onPasswordChange"),a.setState({password:e.target.value}),console.log(a.state.password)},a.onSourceChange=function(e){console.log("onSourceChange"),a.setState({source:e.target.value}),console.log(a.state.source)},a.onPremiumChange=function(e){console.log("onPremiumChange : "+!a.state.isPremium),a.setState({isPremium:!a.state.isPremium})},a.onCategoryChange=function(e){console.log("onCategoryChange "+e.target.textContent);var t=e.target.textContent.split("-"),n=a.state.categories.slice();a.setState({categories:[].concat(Object(d.a)(n),[t[0]])}),console.log("selected categories except last one: "+a.state.categories)},a.state={categories:[],categoryDownloaded:!1,file4K:null,fileHD:null,fileThumbnail:null,fileName4K:"",fileNameHD:"",fileNameThumbnail:"",isPremium:!1,password:"",source:"",isUploading:!1,statusCode:""},a.getCategoryFetch(),a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.statusCode,a=[{menuItem:"Import ",render:function(){return o.a.createElement(b.a.Pane,{attached:!1,className:"Testo"},o.a.createElement(w.a,null,"Provide all the information below"),o.a.createElement(y.a,{onSubmit:e.onFormSubmit},o.a.createElement(y.a.Field,null,o.a.createElement(y.a.Checkbox,{label:"Premium wallpaper",checked:e.state.isPremium,fluid:!0,value:e.state.isPremium,onChange:e.onPremiumChange}),o.a.createElement(y.a.Input,{fluid:!0,placeholder:"Password",value:e.state.password,onChange:e.onPasswordChange}),o.a.createElement(y.a.Input,{fluid:!0,placeholder:"Source",value:e.state.source,onChange:e.onSourceChange}),o.a.createElement(E.a,{as:"label",htmlFor:"file4K",type:"button",animated:"fade"},o.a.createElement(E.a.Content,{visible:!0}),o.a.createElement(E.a.Content,null,"Choose 4K Wallpaper")),o.a.createElement("input",{type:"file",id:"file4K",hidden:!0,onChange:e.fileChange4K}),o.a.createElement(y.a.Input,{fluid:!0,placeholder:"Use the above bar to browse your file system",readOnly:!0,value:e.state.fileName4K}),o.a.createElement(E.a,{as:"label",htmlFor:"fileHD",type:"button",animated:"fade"},o.a.createElement(E.a.Content,null,"Choose HD Wallpaper")),o.a.createElement("input",{type:"file",id:"fileHD",hidden:!0,onChange:e.fileChangeHD}),o.a.createElement(y.a.Input,{fluid:!0,placeholder:"Use the above bar to browse your file system",readOnly:!0,value:e.state.fileNameHD}),o.a.createElement(E.a,{as:"label",htmlFor:"fileThumbnail",type:"button",animated:"fade"},o.a.createElement(E.a.Content,null,"Choose Thumbnail Wallpaper")),o.a.createElement("input",{type:"file",id:"fileThumbnail",hidden:!0,onChange:e.fileChangeThumbnail}),o.a.createElement(y.a.Input,{fluid:!0,placeholder:"Use the above bar to browse your file system",readOnly:!0,value:e.state.fileNameThumbnail}),o.a.createElement(w.a,null,"Select Image categories"),e.state.categoryDownloaded&&H.map((function(t){return o.a.createElement(y.a.Checkbox,{label:t.id+"-"+t.categoryName,title:t.id,onChange:e.onCategoryChange})})),o.a.createElement(E.a,{style:{marginTop:"20px"},type:"submit"},"Upload"),t&&200===t?o.a.createElement(v.a,{style:{marginTop:"20px"},percent:100,success:!0,progress:!0},"File Upload Success"):t&&500===t?o.a.createElement(v.a,{style:{marginTop:"20px"},percent:100,error:!0,active:!0,progress:!0},"File Upload Failed"):t&&401===t?o.a.createElement(v.a,{style:{marginTop:"20px"},percent:0,error:!0,active:!0,progress:!0},"Wrong password"):null)))}}];return o.a.createElement(S.a,{style:{padding:"2em 1em"},vertical:!0},o.a.createElement(T.a,{horizontal:!0},"REAL 4K WALLPAPERS FILE UPLOAD SERVICE"),o.a.createElement(b.a,{menu:{pointing:!0},panes:a}))}}]),t}(n.Component);var K=function(){return o.a.createElement(N,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[206,1,2]]]);
//# sourceMappingURL=main.2c7bc701.chunk.js.map