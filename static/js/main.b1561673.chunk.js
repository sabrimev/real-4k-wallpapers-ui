(this["webpackJsonpreal-4k-wallpapers-ui"]=this["webpackJsonpreal-4k-wallpapers-ui"]||[]).push([[0],{123:function(e,t,a){},208:function(e,t,a){e.exports=a(392)},213:function(e,t,a){},232:function(e,t,a){},392:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(31),r=a.n(o),s=(a(213),a(123),a(73)),i=a(74),c=a(84),u=a(75),m=a(48),d=a(85),h=a(56),g=a.n(h),f=(l.a.Component,a(87),a(232),a(116)),p=a(112),C=a.n(p),b=a(407),E=a(404),w=a(409),v=a(406),y=a(410),S=a(196),T=a(117),K=a(405),D=a(173),P=a(174),x=a.n(P),k=a(175),F=a.n(k);new(a(249))(g.a).onPost("/file/upload/enpoint").reply(200);var H=x()(new Date("2015-01-01T00:00"),1),N=(F()(H,"YYYY-MM-DD"),[]),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onFormSubmit=function(e){if(e.preventDefault(),console.log("form submit"),0===a.state.categories.length||null==a.state.file4K||null==a.state.fileHD||null==a.state.fileThumbnail||""==a.state.password)return console.error(Error("Provide all the information")),a.setState({statusCode:404,submitting:!1},(function(){console.log("Provide all the information",a.state.statusCode)})),console.log("form submit canceled"),void window.scrollTo(0,0);a.fileUploadFetch(a.state.file4K,a.state.fileHD,a.state.fileThumbnail,a.state.isPremium,a.state.isActive,a.state.password,a.state.source,a.state.searchKeys,a.state.categories),a.setState({submitting:!0}),window.scrollTo(0,0)},a.fileChange4K=function(e){e.target.files[0].name.toLowerCase().includes("4k")?a.setState({color4K:"green"}):a.setState({color4K:"red"}),a.setState({file4K:e.target.files[0],fileName4K:e.target.files[0].name},(function(){console.log("File chosen ---\x3e",a.state.file4K,console.log("File name  ---\x3e",a.state.fileName4K))}))},a.fileChangeHD=function(e){e.target.files[0].name.toLowerCase().includes("hd")?a.setState({colorHD:"green"}):a.setState({colorHD:"red"}),a.setState({fileHD:e.target.files[0],fileNameHD:e.target.files[0].name},(function(){console.log("File chosen ---\x3e",a.state.fileHD,console.log("File name  ---\x3e",a.state.fileNameHD))}))},a.fileChangeThumbnail=function(e){e.target.files[0].name.toLowerCase().includes("thumbnail")?a.setState({colorThumbnail:"green"}):a.setState({colorThumbnail:"red"}),a.setState({imagePreview:URL.createObjectURL(e.target.files[0]),fileThumbnail:e.target.files[0],fileNameThumbnail:e.target.files[0].name},(function(){console.log("File chosen ---\x3e",a.state.fileThumbnail,console.log("File name  ---\x3e",a.state.fileNameThumbnail))}))},a.getCategoryFetch=function(){return C.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://real4k.westeurope.cloudapp.azure.com/wallpaper/getAllCategory",{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(e){console.log(e),a.setState({categoryDownloaded:!0});var t=JSON.parse(e);N=D._.sortBy(t,"categoryName"),a.setState(a.state)})).catch((function(e){return console.log("error",e)}));case 2:case"end":return e.stop()}}))},a.fileUploadFetch=function(e,t,n,l,o,r,s,i,c){var u;return C.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:(u=new FormData).append("Image4k",e),u.append("ImageHD",t),u.append("ImageThumbnail",n),u.append("Password",r),u.append("IsPremium",l),u.append("IsActive",o),u.append("Source",s),u.append("SearchKeys",i),c.map((function(e){return u.append("Categories",e)})),console.log("Sending data..");try{(new Headers).append("Content-Type","application/json"),fetch("https://real4k.westeurope.cloudapp.azure.com/wallpaper/UploadImage",{method:"POST",body:u}).then((function(e){return console.log(e),console.log(e.status),a.setState({statusCode:e.status,submitting:!1},(function(){console.log("This is the response status code ---\x3e",a.state.statusCode)})),200===e.status&&a.setState({submitting:!1,isPremium:!1,file4K:null,fileHD:null,fileThumbnail:null,fileName4K:"",fileNameHD:"",fileNameThumbnail:"",searchKeys:"",categories:[]}),e.text()})).then((function(e){return console.log(e)})).catch((function(e){console.log("error",e),a.setState({statusCode:500,submitting:!1},(function(){console.log("This is the response status code-err ---\x3e",a.state.statusCode)}))}))}catch(d){console.error(Error("Error uploading file ".concat(d.message))),a.setState({statusCode:500,submitting:!1},(function(){console.log("This is the response status code-err2 ---\x3e",a.state.statusCode)}))}case 12:case"end":return m.stop()}}))},a.onPasswordChange=function(e){console.log("onPasswordChange"),a.setState({password:e.target.value}),console.log(a.state.password)},a.onSourceChange=function(e){console.log("onSourceChange"),a.setState({source:e.target.value}),console.log(a.state.source)},a.onSearchKeysChange=function(e){console.log("onSearchKeysChange"),a.setState({searchKeys:e.target.value}),console.log(a.state.searchKeys)},a.onPremiumChange=function(e){console.log("onPremiumChange : "+!a.state.isPremium),a.setState({isPremium:!a.state.isPremium})},a.onActiveChange=function(e){console.log("onActiveChange : "+!a.state.isActive),a.setState({isActive:!a.state.isActive})},a.handleCategoryClick=function(e,t,n){if(console.log(t),t.checked&&!a.state.categories.includes(t.id))a.setState({categories:[].concat(Object(f.a)(a.state.categories),[t.id])});else if(a.state.categories.includes(t.id)){var l=Object(f.a)(a.state.categories),o=l.indexOf(t.id);-1!==o&&(l.splice(o,1),a.setState({categories:l}))}console.log("selected categories except last one: "+a.state.categories)},a.state={imagePreview:null,categories:[],categoryDownloaded:!1,file4K:null,fileHD:null,fileThumbnail:null,fileName4K:"",fileNameHD:"",fileNameThumbnail:"",isPremium:!1,isActive:!1,password:"",source:"",searchKeys:"",isUploading:!1,statusCode:"",submitting:!1,color4K:"",colorHD:"",colorThumbnail:""},a.getCategoryFetch(),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.statusCode,a=[{menuItem:"Upload Walpaper",render:function(){return l.a.createElement(b.a.Pane,{attached:!1,className:"Testo",loading:e.state.submitting},t&&200===t?l.a.createElement(E.a,{style:{marginTop:"20px"},percent:100,success:!0,progress:!0},"File Upload Success"):t&&500===t?l.a.createElement(E.a,{style:{marginTop:"20px"},percent:0,error:!0,active:!0,progress:!0},"File Upload Failed"):t&&401===t?l.a.createElement(E.a,{style:{marginTop:"20px"},percent:0,error:!0,active:!0,progress:!0},"File Upload Failed: Wrong password"):t&&404===t?l.a.createElement(E.a,{style:{marginTop:"20px"},percent:0,error:!0,active:!0,progress:!0},"Provide all the information"):null,l.a.createElement(w.a,null,"Provide all the information below"),l.a.createElement(v.a,{onSubmit:e.onFormSubmit},l.a.createElement(v.a.Group,{widths:"equal"},l.a.createElement(v.a.Field,{width:7},l.a.createElement(v.a.Checkbox,{label:"Premium wallpaper",checked:e.state.isPremium,fluid:!0,value:e.state.isPremium,onChange:e.onPremiumChange}),l.a.createElement("br",null),l.a.createElement(v.a.Checkbox,{label:"Activate",checked:e.state.isActive,fluid:!0,value:e.state.isActive,onChange:e.onActiveChange}),l.a.createElement("br",null),l.a.createElement(v.a.Input,{fluid:!0,placeholder:"Password",value:e.state.password,onChange:e.onPasswordChange}),l.a.createElement("br",null),l.a.createElement(v.a.Input,{fluid:!0,placeholder:"Source",value:e.state.source,onChange:e.onSourceChange}),l.a.createElement("br",null),l.a.createElement(v.a.Input,{fluid:!0,placeholder:"Search Keys - Max 500 word",value:e.state.searchKeys,onChange:e.onSearchKeysChange}),l.a.createElement("br",null),l.a.createElement(v.a.Group,{widths:"equal"},l.a.createElement(y.a,{color:e.state.color4K,fluid:!0,as:"label",htmlFor:"file4K",type:"button",animated:"fade"},l.a.createElement(y.a.Content,{visible:!0}),l.a.createElement(y.a.Content,null,"Choose 4K Wallpaper")),l.a.createElement("input",{type:"file",id:"file4K",hidden:!0,onChange:e.fileChange4K}),l.a.createElement(v.a.Input,{fluid:!0,placeholder:"file4K",readOnly:!0,value:e.state.fileName4K})),l.a.createElement(v.a.Group,{widths:"equal"},l.a.createElement(y.a,{color:e.state.colorHD,fluid:!0,as:"label",htmlFor:"fileHD",type:"button",animated:"fade"},l.a.createElement(y.a.Content,null,"Choose HD Wallpaper")),l.a.createElement("input",{type:"file",id:"fileHD",hidden:!0,onChange:e.fileChangeHD}),l.a.createElement(v.a.Input,{fluid:!0,placeholder:"fileHD",readOnly:!0,value:e.state.fileNameHD})),l.a.createElement(v.a.Group,{widths:"equal"},l.a.createElement(y.a,{color:e.state.colorThumbnail,fluid:!0,as:"label",htmlFor:"fileThumbnail",type:"button",animated:"fade"},l.a.createElement(y.a.Content,null,"Choose Thumbnail Wallpaper")),l.a.createElement("input",{type:"file",id:"fileThumbnail",hidden:!0,onChange:e.fileChangeThumbnail}),l.a.createElement(v.a.Input,{fluid:!0,placeholder:"fileThumbnail",readOnly:!0,value:e.state.fileNameThumbnail})),l.a.createElement(S.a,{src:e.state.imagePreview,size:"small"}),l.a.createElement(y.a,{style:{marginTop:"20px"},type:"submit"},"Upload")),l.a.createElement(v.a.Field,{width:2},e.state.categoryDownloaded&&N.map((function(t,a){return a<=21?l.a.createElement(v.a.Checkbox,{id:t.id+"",label:t.categoryName,onChange:function(t,n){return e.handleCategoryClick(t,n,a)},name:t.categoryName,defaultChecked:!1,checked:0!==e.state.categories.length&&null}):l.a.createElement("div",null)}))),l.a.createElement(v.a.Field,{width:6},e.state.categoryDownloaded&&N.map((function(t,a){return a>21?l.a.createElement(v.a.Checkbox,{id:t.id+"",label:t.categoryName,onChange:function(t,n){return e.handleCategoryClick(t,n,a)},name:t.categoryName,defaultChecked:!1,checked:0!==e.state.categories.length&&null}):l.a.createElement("div",null)}))))))}}];return l.a.createElement(T.a,{style:{padding:"1em 1em"},vertical:!0},l.a.createElement(K.a,{horizontal:!0},"REAL 4K WALLPAPERS FILE UPLOAD SERVICE"),l.a.createElement(b.a,{menu:{pointing:!0},panes:a}))}}]),t}(n.Component);var I=function(){return l.a.createElement(A,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[208,1,2]]]);
//# sourceMappingURL=main.b1561673.chunk.js.map